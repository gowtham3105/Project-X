<!DOCTYPE html>
<html lang="en">
<head>
	<title>Pyke</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<meta charset="UTF-8">

	<!-- Font -->
	<link href="https://fonts.googleapis.com/css?family=Poppins:400,700" rel="stylesheet">

	<!-- Stylesheets -->
	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
	<link href="plugin-frameworks/bootstrap.min.css" rel="stylesheet">
	<link href="plugin-frameworks/swiper.css" rel="stylesheet">

	<link href="fonts/ionicons.css" rel="stylesheet">


	<link href="common/styles.css" rel="stylesheet">


</head>
<body>
  <link rel="stylesheet" type="text/css" href="common/spinkit.css">
	<link rel="stylesheet" href="common/w3.css">

<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/7.15.1/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/7.15.1/firebase-analytics.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.15.1/firebase-storage.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.15.1/firebase-auth.js"></script>
<script>
  // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyAJ4SliyJUZLL_DY1Tb2euSFkjn-9wBqVw",
    authDomain: "project-x-gp.firebaseapp.com",
    databaseURL: "https://project-x-gp.firebaseio.com",
    projectId: "project-x-gp",
    storageBucket: "project-x-gp.appspot.com",
    messagingSenderId: "66182583022",
    appId: "1:66182583022:web:cb0168c7ba0235d45499ff",
    measurementId: "G-N1XCFBBPE2"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();
    var storage = firebase.storage();
    var auth = firebase.auth();
</script>
	<header>
		<a class="logo" href="index.html"><img src="images/logo-white.png" alt="Logo"></a>


		<div class="right-area" >
			<div class="w3-circle w3-container w3-xlarge  w3-border-grey w3-hover-text-amber btn-rightarea w3-right w3-margin-right" id="accBtn"  style="padding:4px 4px;  display:none;">
				<a href="Account.html" id="accInfo1"><img src=""  id="accPic" class="w3-circle" style="width:40px;height:40px" ></a>
			</div>
			<div class="w3-container w3-xlarge w3-center btn-rightarea " id="sinbtn"  style="display:none; position:relative;top:20%;margin-top:0px;"><a href="Login.html">Sign In</a></div>
		</div><!-- right-area -->

		<a class="menu-nav-icon" data-menu="#main-menu" href="#"><i class="ion-navicon " style="margin-right:10px"></i></a>

		<ul class="main-menu" id="main-menu">
			<li><a href="index.html">Home</a></li>
			<li class="drop-down"><a href="#!">Categories<i class="ion-arrow-down-b"></i></a>
				<ul class="drop-down-menu drop-down-inner" style="min-width:100px;">
					<li><a href="Category.html">Tech</a></li>
					<li><a href="#">Sports</a></li>
					<li><a href="#">Art</a></li>
					<li><a href="#">Photography</a></li>
				</ul>
			</li>

			<li><a href="Trending.html">Trending</a></li>
			<li><a href="Publish.html">Publish</a></li>
			<li><a href="04_regular_static.html">About Us</a></li>
			<li><a href="05_contact.html">Contact</a></li>
		</ul>

		<div class="clearfix"></div>
	</header>
		<script src="plugin-frameworks/signin.js"></script>

<div class="slider-main h-500x h-sm-auto pos-relative pt-95 pb-25">
		<div class="img-bg bg-1 bg-layer-4"></div>
		<div class="container-fluid h-100 mt-xs-50">
			<div class="dplay-tbl">
				<div class="dplay-tbl-cell color-white text-center">

					<h1 class="ptb-50"><b>Publish Your Article</b></h1>

				</div><!-- dplay-tbl-cell -->
			</div><!-- dplay-tbl -->
		</div><!-- container -->
	</div><!-- slider-main -->
<style>
	.editor
        {
			border:solid 1px #ccc;
			padding: 20px;
			min-height:200px;
        }

        .sample-toolbar
        {
			border:solid 1px #ddd;
			background:#f4f4f4;
			padding: 5px;
			border-radius:3px;
        }

        .sample-toolbar > span
        {
			cursor:pointer;
		}

        .sample-toolbar > span:hover
        {
			text-decoration:underline;
		}

</style>
<script>
//var server_url = "http://localhost:5000/";
var server_url = "https://still-cliffs-56902.herokuapp.com/";

if(!( localStorage.email && localStorage.name))
{
window.location.href = "Login.html";

}
	function Accept()
	{	document.getElementById("error").style.display = "none";

		if(document.getElementById("check1").checked && document.getElementById("check2").checked){
			document.getElementById("error").style.display = "none";
			document.getElementById("sec2").style.display = "none";
			document.getElementById("sec2-inst").style.display = "none";
			document.getElementById("sec3").style.display = "block";
			document.getElementById("sec3-inst").style.display = "block";
			document.getElementById("btn").removeEventListener("click", Accept);
			document.getElementById("btn").addEventListener("click", Submit);
			document.getElementById("btnb").innerHTML = "Submit";

		} else {
		alert("Please Check the checkbox to continue");
		}
	}

	function Submit(){
		var name = document.getElementById("name");
		var title = document.getElementById("Title");
		var content = document.getElementById("sampleeditor");
		var cato = document.getElementById("Category");
		var title_image = document.getElementById("title_image");
		var slide_image = document.getElementById("slide_image");

		var formData = new FormData();
		var error=0;
		if (name.value == ''){
			error+=1;
			name.style.borderColor = "red";
		}
		else{
			name.style.borderColor = null;
		}

		if (title.value == ''){
			error+=1;
			title.style.borderColor = "red";
		}
		else{
			title.style.borderColor = null;
		}

		if (content.innerHTML == ''){
			error+=1;
			content.style.borderColor = "red";
		} else if(content.innerHTML.split(" ").length < 200){
			error+=1;
			content.style.borderColor = "red";
		}
		else{
			content.style.borderColor = null;
		}
	var allowedExtensions = new RegExp("\.jpg|\.jpeg|\.png|\.gif|\.JPG");
	filePath=title_image.value

	if(!title_image.files.length){
			title_image.style.borderColor = "red";
			console.log("file is null");
			error+=1;
		} else if(!allowedExtensions.exec(filePath)) {
            title_image.value = '';
			title_image.style.borderColor = "red";
			error+=1;
			alert("Please Submit a File in .jpg or .png format");

		} else if(title_image.files[0].size >= 2000000){
			title_image.style.borderColor = "red";
			error+=1;
			alert("You cannot upload this file because its size exceeds the maximum limit of 2 MB");
		} else {

			title_image.style.borderColor = null;
		}

		for(i=0;i<slide_image.files.length;i++){
		filePath=slide_image.files[i].name

		if(!slide_image.files.length){
			slide_image.style.borderColor = "red";
			console.log("file is null");
			error+=1;
		} else if(!allowedExtensions.exec(filePath)) {
            slide_image.value = '';
			slide_image.style.borderColor = "red";
			error+=1;
			alert("Please Submit a File in .jpeg or .png format");

		} else if(slide_image.files[i].size >= 2000000){
			slide_image.style.borderColor = "red";
			error+=1;
			alert("You cannot upload this file because its size exceeds the maximum limit of 2 MB");
		} else {

			slide_image.style.borderColor = null;
		}


		}
		if(!slide_image.files.length){
			slide_image.style.borderColor = "red";
			console.log("file is null");
			error+=1;
		} else {

			slide_image.style.borderColor = null;
		}



		if(error == 0){
			formData.append('email', localStorage.email);
			formData.append('title', title.value);
			formData.append('name', name.value);
			formData.append('photourl', localStorage.photoURL);
			formData.append('cato', cato.value);
			formData.append('user_id', localStorage.user_id);
			formData.append('content', content.innerHTML);

  			var xhttp = new XMLHttpRequest();
 			xhttp.onreadystatechange = function()
 			{
    			if (this.readyState == 4 && this.status == 200)
    			{
    				var no = this.responseText;

					console.log(no);
     				storage.ref("Uploads/title_Images/"+no).put(title_image.files[0]);
     				for(i=0;i<slide_image.files.length;i++){
     				storage.ref("Uploads/slide_Images/"+no+"_"+i).put(slide_image.files[0]);
     				}
					document.getElementById("loader").style.display = "none";
					document.getElementById("sec4-inst").style.display = "block";
					document.getElementById("sec4-num").innerHTML = no;
				}
  			};
  			xhttp.open("POST", server_url+"submit", true);
			xhttp.send(formData);

			document.getElementById("sec3").style.display = "none";
			document.getElementById("sec3-inst").style.display = "none";
			document.getElementById("btn").style.display = "none";
			document.getElementById("loader").style.display = "block";

		}
	}


window.addEventListener('load', function(){
			document.getElementById('sampleeditor').setAttribute('contenteditable', 'true');
			//document.getElementById('sampleeditor2').setAttribute('contenteditable', 'true');
        });

		function format(command, value) {
			document.execCommand(command, false, value);
		}

		function setUrl() {
			var url = document.getElementById('txtFormatUrl').value;
			var sText = document.getSelection();
			document.execCommand('insertHTML', false, '<a href="' + url + '" target="_blank">' + sText + '</a>');
			document.getElementById('txtFormatUrl').value = '';
		}
</script>
<div class="example w3-center" id="loader" style="display:none;margin:150px 50%;">
    <div class="sk-wave">
        <div class="sk-wave-rect"></div>
        <div class="sk-wave-rect"></div>
        <div class="sk-wave-rect"></div>
        <div class="sk-wave-rect"></div>
        <div class="sk-wave-rect"></div>
    </div>
  </div>

<div class="w3-panel w3-center w3-xxlarge" id="sec2-inst" style="display:block;margin-top:40px;">
	Terms and Conditions<br>
	<div class="w3-small" >Please Read the Terms and Conditions carefully </div>
		<hr  style="width:80%; margin:auto;margin-top:10px;">
	<br>
</div>

<div class=" w3-panel w3-xlarge w3-mobile " id = "sec2" style="display:block;max-width:1000px;margin-right:auto;margin-left:auto;" >
	<div class="w3-container w3-medium w3-left ">
	<div class="w3-large w3-center">
		Welcome to Project-x ! Here is a quick summary of the highlights of our Terms of Service:
	</div>

	<br>

- Our mission is to share and grow the world’s knowledge. The project-x platform offers a place to upload your creative projects and connect with people who contribute unique insights. This empowers people to learn from each other and to better understand the world.<br>
- You own the content that you post; you also grant us and other users of the Project-x platform certain rights and license to use it.<br>
- You are responsible for the content that you post. This includes ensuring that you have the rights needed for you to post that content and that your content does not violate the legal rights of another party or any applicable laws.<br>
- You can repost content from Project-x elsewhere, provided that you attribute the content back to the PROJECT-X platform and respect the rights of the original poster, including any “not for reproduction” designation, and do not use automated tools.<br>
- We do not endorse or verify content posted by users. Our content and materials are provided to you “as is,” without any guarantees. You are solely responsible for your own use of the Project-x platform. Posts from lawyers, doctors, and other professionals should not be treated as a substitute for professional advice for your specific situation.<br>
- You agree to follow the rules of our platform. When you use the Project-x platform, you also agree to our Terms of Service, accept our Privacy Policy, and agree to follow our Acceptable Use Policy, Copyright Policy, and Trademark Policy.<br>
- We offer tools for you to give feedback and report complaints. If you think someone has violated your intellectual property rights, other laws, or Project-x's policies, you can initiate a report at the contact us portal.<br>
<br>
	<div class="w3-panel w3-center w3-xxlarge" >
		Terms of Service<br>
		<div class="w3-small" >Please Read the Terms of Service carefully </div>
		<hr  style="width:80%; margin:auto;margin-top:10px;">
	</div>

<br>
- Using the Project-x Platform:<br>
- Privacy Policy. Our privacy practices are set forth in our Privacy Policy. By use of the Project-x Platform, you agree to accept our Privacy Policy, regardless of whether you are a registered user.<br>
- Acceptable Use Policy. In your interaction with others on the Project-x Platform, you agree to follow the Acceptable Use Policy at all times.<br>
- Termination. You may close your account at any time by going to account settings and disabling your account. We may terminate or suspend your Project-x account if you violate any Project-x policy or for any other reason.<br>
- Changes to the Project-x Platform. We are always trying to improve your experience on the Project-x Platform. We may need to add or change features and may do so without notice to you.<br>
- Feedback. We welcome your feedback and suggestions about how to improve the Project-x Platform. Feel free to submit feedback. By submitting feedback, you agree to grant us the right, at our discretion, to use, disclose and otherwise exploit the feedback, in whole or part, freely and without compensation to you.<br>
</div>

	<div class="w3-center w3-panel w3-margin-top">
			<input type="checkbox" id="check1"> I accept the Terms And Conditions<br>
			<input type="checkbox" id="check2"> I accept the Terms Of Service
	</div>
</div>


<div class="w3-panel w3-center w3-xxlarge" id="sec3-inst" style="display:none;">
	Article Submission<br>

		<hr  style="width:80%; margin:auto;margin-top:10px;">
	<br>
</div>

<div class="w3-center w3-panel w3-xlarge w3-mobile" id = "sec3" style="display:none;">

	<div class="w3-row w3-mobile">
		<div class="w3-container w3-half">
			<label for="Title" >Title of the Article</label>
		</div>
		<div  class="w3-third ">
			<input type="text" id="Title"  class="w3-input w3-center"  placeholder="Title" required>
		</div>
	</div>
	<br>
	<div class="w3-row w3-mobile">
		<div class="w3-container w3-half">
			<label for="name" >Name</label>
		</div>
		<div  class="w3-third ">
			<input type="text" id="name"  class="w3-input w3-center"  placeholder="Your Name" required>
		</div>
	</div>
	<br>
	<div class="w3-row w3-mobile">
		<div class="w3-container w3-half">
			<label for="Title" >Category</label>
		</div>

		<div  class="w3-third ">
			<select id="Category">
  					<option value="Tech">Tech</option>
  					<option value="Art">Art</option>
 					<option value="Photography">Photography</option>

			</select>
		</div>
	</div>
	<br>
	<div class="w3-row w3-mobile w3-panel" style="width:70%;margin:auto;">
		<div class="w3-left">
			<label >Type your content<br></label>

		</div>

		<Br>

		<div class="sample-toolbar " style="margin-left:auto;margin-right:auto">

		<a href="javascript:void(0)" onclick="format('bold')" style="position: absolute;left: 20%;"><b>B</b></a>
		<a href="javascript:void(0)" onclick="format('italic')" style="position: absolute;left: 47%;"><i>I</i></a>

		<a href="javascript:void(0)" onclick="setUrl()" style="position: absolute;left: 70%;">Link</a>
			<br>
		<input id="txtFormatUrl" placeholder="url" class="form-control">
</div>

<div class="editor" id="sampleeditor" style="font-size:12px;min-width:300px;margin-left:auto;margin-right:auto;text-align:left;"></div>

		<br>
	</div>

		<div class="w3-row w3-mobile w3-panel">
		<div class="w3-container w3-half">
			<label for="title_image" >Upload the Title Image<br></label>
			<div class="w3-small">
				Please make sure that you are uploading an image in Landscape orientation <br>

				(In .jpg or .png format)
			</div>

		</div>
		<div  class="w3-third ">
			<input type="file" id="title_image"  class="w3-input w3-center"  accept="image/jpeg, image/png" required>
		</div>
	</div>

	<div class="w3-row w3-mobile w3-panel">
		<div class="w3-container w3-half">
			<label for="slide_image" >Upload Slide Image<br></label>
			<div class="w3-small">
				(In .jpg or .png format)
			</div>


		</div>
		<div  class="w3-third ">
			<input type="file" id="slide_image"  class="w3-input w3-center"  accept="image/jpeg, image/png" multiple required>
		</div>
	</div>



</div>

<div class="w3-panel w3-center w3-xlarge" id="sec4-inst" style="display:none;">
	<img src="images/tick.jpg" alt="Tick" style="width:150px;"><br>
	Thank You<br>
	Your have Successfully submitted your Article.<br> Your Article Submission Number is <div class="w3-text-amber "  style="display:inline;width:10px;"><b id="sec4-num">h</b></div> <br>
	We will contact you once it's Verified
		<hr  style="width:80%; margin:auto;margin-top:10px;">
	<br>
	<br>
</div>

<div class="w3-center w3-panel " id="btn-div">
	<button class="btn-b-lg btn-brdr-grey plr-25 color-ash " onclick="Accept()" type="button" id="btn" style="display:block;margin:auto;"><b id="btnb">Accept</b></button>
	<br>
	<br>
</div>

<div id="error" class="w3-panel w3-red w3-text-white w3-center "  style="display:none; height:50px;"></div>


	<footer class="bg-191 color-ash pt-50 pb-20 text-left center-sm-text">

		<div class="container-fluid">
			<div class="row">

				<div class="col-lg-1"></div>

				<div class="col-md-4 col-lg-6 mb-30">
					<div class="card h-100">
						<div class="dplay-tbl">
							<div class="dplay-tbl-cell">

								<a href="index.html"><img src="images/logo-white.png"></a>
								<p class="color-ash mt-25"><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="ion-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a>
<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></p>

							</div><!-- dplay-tbl-cell -->
						</div><!-- dplay-tbl -->
					</div><!-- card -->
				</div><!-- col-lg-4 col-md-6 -->

				<div class="col-md-4 col-lg-2 mb-30">
					<div class="card h-100">
						<div class="dplay-tbl">
							<div class="dplay-tbl-cell">

								<ul class="list-a-plr-10">
									<li><a href="#"><i class="ion-social-facebook"></i></a></li>
									<li><a href="#"><i class="ion-social-twitter"></i></a></li>
									<li><a href="#"><i class="ion-social-youtube"></i></a></li>
								</ul>

							</div><!-- dplay-tbl-cell -->
						</div><!-- dplay-tbl -->
					</div><!-- card -->
				</div><!-- col-lg-4 col-md-6 -->

				<div class="col-md-4 col-lg-2 mb-30 text-left">
					<div class="card h-100">
						<div class="dplay-tbl">
							<div class="dplay-tbl-cell">
								<form class="form-block form-brdr-b mx-w-400x m-auto">
									<div id="sub_message">
<br>
									</div>
									<input class="color-white ptb-15 center-sm-text" type="text" placeholder=" Your Email">
									<button class="mt-30 btn-brdr-grey color-ash w-100 text-center" type="submit">SUBSCRIBE</button>

								</form>
							</div><!-- dplay-tbl-cell -->
						</div><!-- dplay-tbl -->
					</div><!-- card -->
				</div><!-- col-lg-4 col-md-6 -->

			</div><!-- row -->
		</div><!-- container -->
	</footer>

	<!-- SCIPTS -->

	<script src="plugin-frameworks/jquery-3.2.1.min.js"></script>

	<script src="plugin-frameworks/bootstrap.min.js"></script>

	<script src="plugin-frameworks/swiper.js"></script>


	<script src="common/scripts.js"></script>
</body>
</html>